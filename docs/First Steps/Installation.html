

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; openHAB Scripters - Jython  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Getting Started" href="Getting Started.html" />
    <link rel="prev" title="Welcome to the openHAB Scripters Jython documentation!" href="../Index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../Index.html" class="icon icon-home"> openHAB Scripters - Jython
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">First Steps</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#package-install">Package Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manual-install">Manual Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker">Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Getting Started.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">How To's</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../How Tos/Rules.html">Rules</a></li>
</ul>
<p class="caption"><span class="caption-text">Core Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Rules.html">Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Triggers.html">Triggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Log.html">Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Date.html">Date</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Items.html">Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Core Modules/Testing.html">Testing</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Contributing/Writing Docs.html">Writing Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../Index.html">openHAB Scripters - Jython</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../Index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/First Steps/Installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>Since the ESH automation API is still under development, it is best to use a
current testing or snapshot release of openHAB. More importantly, there are
breaking changes in the API, so at least OH 2.4 snapshot 1319 or milestone M3
is required to use these modules.
<strong>The ESH integration into the openHAB core has broken the JSR223 scripting
automation – we are in the process of updating openHAB and this library to
work post-integration</strong></p>
<div class="line-block">
<div class="line">Given that the automation API and this library are still under development, it
is highly recommended to turn on debug logging. This can be done using the
following command in the Karaf console:
<code class="docutils literal notranslate"><span class="pre">log:set</span> <span class="pre">DEBUG</span> <span class="pre">org.eclipse.smarthome.automation</span></code></div>
<div class="line">Once your installation and scripts are tested and working, you may wish to
reduce the log level to warn to reduce the amount of log entries. This can be
done using the following command in Karaf:
<code class="docutils literal notranslate"><span class="pre">log:set</span> <span class="pre">WARN</span> <span class="pre">org.eclipse.smarthome.automation</span></code></div>
</div>
<div class="section" id="package-install">
<h2>Package Install<a class="headerlink" href="#package-install" title="Permalink to this headline">¶</a></h2>
<p>If you installed openHAB with your distro’s package manager or are using
openHABian, these instructions are for you!</p>
<ol class="arabic">
<li><p>Install the <a class="reference external" href="https://www.openhab.org/docs/configuration/rules-ng.html">Experimental Rule Engine</a> add-on</p></li>
<li><p>Turn on debug logging using
<code class="docutils literal notranslate"><span class="pre">log:set</span> <span class="pre">DEBUG</span> <span class="pre">org.eclipse.smarthome.automation</span></code> in the Karaf console</p></li>
<li><p>Shutdown openHAB</p></li>
<li><p>Download the contents of this repository and, using the openHAB account,
copy the contents of the <code class="docutils literal notranslate"><span class="pre">/Core/</span></code> directory into <code class="docutils literal notranslate"><span class="pre">/etc/openhab2/</span></code>.
This will create a directory structure as described in File Locations, and
will include all of the Core files, including a startup delay script that
insures OH is started completely before loading other scripts.</p></li>
<li><p>Download the <a class="reference external" href="http://www.jython.org/downloads.html">standalone Jython 2.7.0 jar</a> and copy it to
<code class="docutils literal notranslate"><span class="pre">/etc/openhab2/automation/jython/</span></code>.</p></li>
<li><p>Add/modify your <code class="docutils literal notranslate"><span class="pre">EXTRA_JAVA_OPTS</span></code> in <code class="docutils literal notranslate"><span class="pre">/etc/default/openhab2</span></code> to include
the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">EXTRA_JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xbootclasspath/a:/etc/openhab2/automation/jython/jython-standalone-2.7.0.jar -Dpython.home=/etc/openhab2/automation/jython -Dpython.path=/etc/openhab2/automation/lib/python&quot;</span>
</pre></div>
</div>
<p><em>If creating a new file, remember to set the permissions so that the OH
account has read access.</em></p>
</li>
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">/Script</span> <span class="pre">Examples/hello_world.py</span></code> script to
<code class="docutils literal notranslate"><span class="pre">/automation/jsr223/personal/</span></code> to test if everything is working.
This script will make a log entry every 10s, and should be deleted after
installation has been verified.</p></li>
<li><p>Start openHAB and watch the logs for errors and the entries from the
<code class="docutils literal notranslate"><span class="pre">hello_world.py</span></code> script.</p></li>
</ol>
<p>Check out the <a class="reference internal" href="Getting Started.html"><span class="doc">Getting Started</span></a> page for what to do next.</p>
</div>
<div class="section" id="manual-install">
<h2>Manual Install<a class="headerlink" href="#manual-install" title="Permalink to this headline">¶</a></h2>
<p>If you installed openHAB manually, these instructions are for you!</p>
<ol class="arabic">
<li><p>Install the <a class="reference external" href="https://www.openhab.org/docs/configuration/rules-ng.html">Experimental Rule Engine</a> add-on</p></li>
<li><p>Turn on debug logging using
<code class="docutils literal notranslate"><span class="pre">log:set</span> <span class="pre">DEBUG</span> <span class="pre">org.eclipse.smarthome.automation</span></code> in the Karaf console</p></li>
<li><p>Shutdown openHAB</p></li>
<li><p>Download the contents of this repository and, using the openHAB account,
copy the contents of the <code class="docutils literal notranslate"><span class="pre">/Core/</span></code> directory into <code class="docutils literal notranslate"><span class="pre">/opt/openhab2/conf/</span></code>.
This will create a directory structure as described in File Locations, and
will include all of the Core files, including a startup delay script that
insures OH is started completely before loading other scripts.</p></li>
<li><p>Download the <a class="reference external" href="http://www.jython.org/downloads.html">standalone Jython 2.7.0 jar</a> and copy it to
<code class="docutils literal notranslate"><span class="pre">/opt/openhab2/conf/automation/jython/</span></code>.</p></li>
<li><p>Add/modify your <code class="docutils literal notranslate"><span class="pre">EXTRA_JAVA_OPTS</span></code> in <code class="docutils literal notranslate"><span class="pre">/opt/openhab2/start.sh</span></code> to include
the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">EXTRA_JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xbootclasspath/a:/opt/openhab2/conf/automation/jython/jython-standalone-2.7.0.jar -Dpython.home=/opt/openhab2/conf/automation/jython -Dpython.path=/opt/openhab2/conf/automation/lib/python&quot;</span>
</pre></div>
</div>
<p><em>If creating a new file, remember to set the permissions so that the OH
account has read access.</em></p>
</li>
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">/Script</span> <span class="pre">Examples/hello_world.py</span></code> script to
<code class="docutils literal notranslate"><span class="pre">/automation/jsr223/personal/</span></code> to test if everything is working.
This script will make a log entry every 10s, and should be deleted after
installation has been verified.</p></li>
<li><p>Start openHAB and watch the logs for errors and the entries from the
<code class="docutils literal notranslate"><span class="pre">hello_world.py</span></code> script.</p></li>
</ol>
<p>Check out the <a class="reference internal" href="Getting Started.html"><span class="doc">Getting Started</span></a> page for what to do next.</p>
</div>
<div class="section" id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p>do else</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Getting Started.html" class="btn btn-neutral float-right" title="Getting Started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Index.html" class="btn btn-neutral float-left" title="Welcome to the openHAB Scripters Jython documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Scott Rushworth, Michael Murton

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>