

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ideAlarm Event Helpers &mdash; openHAB Helper Libraries  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ideAlarm API" href="API.html" />
    <link rel="prev" title="Arming and Disarming" href="Arm Disarm.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> openHAB Helper Libraries
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting Started/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting Started/File Locations.html">File Locations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting Started/First Steps.html">First Steps</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Guides/Rules.html">Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Guides/Triggers.html">Triggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Guides/Logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Guides/Actions.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Guides/Event Object Attributes.html">Event Object Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Examples/Examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Guides/But How Do I.html">But How Do I…?</a></li>
</ul>
<p class="caption"><span class="caption-text">Python</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Core.html">Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Community.html">Community</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Alexa Speak and Respond.html">Alexa Speak and Respond</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AutoRemote.html">AutoRemote</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ClickaTell.html">ClickaTell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Delete and Rediscover Z-Wave Things.html">Delete and Rediscover Z-Wave Things</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Esper.html">Esper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OpenWeatherMap.html">OpenWeatherMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sonos.html">Sonos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WeatherStationUploader.html">WeatherStationUploader</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ideAlarm.html">ideAlarm</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ideAlarm.html#about">About</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ideAlarm.html#release-notices">Release Notices</a></li>
<li class="toctree-l3"><a class="reference internal" href="Key Concepts.html">ideAlarm Key Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="Glossary.html">ideAlarm Glossary</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Configuration.html">ideAlarm Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="Then What.html">Then what?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arm Disarm.html">Arming and Disarming</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ideAlarm Event Helpers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#naming">Naming</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-helper-functions-for-various-alarm-events">Custom Helper Functions for Various Alarm Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-different-events">The Different Events</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="API.html">ideAlarm API</a></li>
<li class="toctree-l3"><a class="reference internal" href="Updating.html">Updating ideAlarm</a></li>
<li class="toctree-l3"><a class="reference internal" href="Uninstall.html">Uninstall ideAlarm</a></li>
<li class="toctree-l3"><a class="reference internal" href="Troubleshooting.html">ideAlarm Troubleshooting and FAQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="Links.html">Links</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">JavaScript</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../JavaScript/Reference.html">Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Contributing/Coding Guidelines.html">Coding Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Contributing/Writing Docs.html">Writing Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">openHAB Helper Libraries</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../Community.html">Community</a> &raquo;</li>
        
          <li><a href="../ideAlarm.html">ideAlarm</a> &raquo;</li>
        
      <li>ideAlarm Event Helpers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/openhab-scripters/openhab-helper-libraries/">GitHub Repository</a>
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="idealarm-event-helpers">
<h1>ideAlarm Event Helpers<a class="headerlink" href="#idealarm-event-helpers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="naming">
<h2>Naming<a class="headerlink" href="#naming" title="Permalink to this headline">¶</a></h2>
<p>When you installed ideAlarm you placed two example files in <code class="docutils literal notranslate"><span class="pre">$OPENHAB_CONF/automation/lib/python/personal/idealarm</span></code> named <code class="docutils literal notranslate"><span class="pre">custom_template_verbose.py.example</span></code> and <code class="docutils literal notranslate"><span class="pre">custom_template.py.example</span></code>.
Have a good look at them and choose the one that best suit your needs.
Then rename that file to <code class="docutils literal notranslate"><span class="pre">custom.py</span></code>.
This is now your personal Custom Helper Functions library.</p>
</div>
<div class="section" id="custom-helper-functions-for-various-alarm-events">
<h2>Custom Helper Functions for Various Alarm Events<a class="headerlink" href="#custom-helper-functions-for-various-alarm-events" title="Permalink to this headline">¶</a></h2>
<p>Every installation is unique and has it’s own needs.
Therefore, ideAlarm has a number of alarm events that will trigger your <code class="docutils literal notranslate"><span class="pre">custom.py</span></code> script functions (if you choose to define them).
That way you can choose whatever shall happen at those events.
You define those functions in the event helpers file (<code class="docutils literal notranslate"><span class="pre">custom.py</span></code>).
The helper functions provides useful ideAlarm objects that makes your custom scripting easy.</p>
</div>
<div class="section" id="the-different-events">
<h2>The Different Events<a class="headerlink" href="#the-different-events" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">onArmingModeChange</span><span class="p">(</span><span class="n">zone</span><span class="p">,</span> <span class="n">newArmingMode</span><span class="p">,</span> <span class="n">oldArmingMode</span><span class="p">)</span>
</pre></div>
</div>
<p>This function will be called when there is a change of arming mode for a zone.</p>
<p>Function arguments:</p>
<p>zone: The zone object.
newArmingMode: The current arming mode.
oldArmingMode: The previous arming mode.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">onZoneStatusChange</span><span class="p">(</span><span class="n">zone</span><span class="p">,</span> <span class="n">newZoneStatus</span><span class="p">,</span> <span class="n">oldZoneStatus</span><span class="p">,</span> <span class="n">errorMessage</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>This function will be called when there is a change of zone status.
<code class="docutils literal notranslate"><span class="pre">oldZoneStatus</span></code> is None when initializing.</p>
<p>Function arguments:</p>
<ul class="simple">
<li><p>zone: The zone object.</p></li>
<li><p>newZoneStatus: The current zone status.</p></li>
<li><p>oldZoneStatus: The previous zone status.</p></li>
<li><p>errorMessage: Holds an error message (string) when an error has occurred, typically when trying to arm a zone with tripped sensors.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">onArmingWithOpenSensors</span><span class="p">(</span><span class="n">zone</span><span class="p">,</span> <span class="n">armingMode</span><span class="p">)</span>
</pre></div>
</div>
<p>There might be open sensors when trying to arm, so this function gets called.
That doesn’t necessarily need to be an error condition.
However, if the zone has been configured not to allow opened sensors during arming, the function <code class="docutils literal notranslate"><span class="pre">onZoneStatusChange</span></code> will be called with status ERROR.</p>
<p>Function arguments:</p>
<ul class="simple">
<li><p>zone: The zone object.</p></li>
<li><p>armingMode: The current arming mode.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">onNagTimer</span><span class="p">(</span><span class="n">zone</span><span class="p">,</span> <span class="n">nagSensors</span><span class="p">)</span>
</pre></div>
</div>
<p>If you have set up “nagging”, this function will be called to remind you to close them.</p>
<p>Function arguments:</p>
<ul class="simple">
<li><p>zone: The zone object.</p></li>
<li><p>nagSensors: A Python list with all sensor objects that have been active (OPEN, ON) for too long.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    
      
        <div align="right">
          
            <br/>
            <a href="https://github.com/openhab-scripters/openhab-helper-libraries/blob/master/Sphinx/Python/Community/ideAlarm/Event Helpers.rst" class="fa fa-github"> Edit on GitHub</a>
          
        </div>
      
    
  

  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Contributors to the openHAB Scripters project

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>